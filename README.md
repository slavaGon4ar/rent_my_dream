# Rent My Dream

`Rent My Dream` — это back-end приложение на Django для управления системой аренды недвижимости. Приложение включает в себя функционал аутентификации пользователей, управления списками объектов аренды, поиска и фильтрации, бронирования, а также оставления отзывов и истории просмотра объектов. Документация API доступна через Swagger.

## Особенности

- Полная аутентификация через JWT.
- Управление объектами аренды, бронированием, и отзывами.
- Возможность оставлять отзывы и просматривать историю поиска.
- Поддержка фильтрации и поиска по объектам аренды.
- API документация через Swagger и Redoc.

## Стек технологий

- Backend: **Django**
- База данных: **MySQL**
- Контейнеризация: **Docker**
- Тестирование: **Pytest**, **Django Test Framework**
- Документация API: **Swagger** (drf-yasg)

## Требования

- Python 3.12+
- Django 5.1.3
- MySQL 8.0+
- Docker и Docker Compose

## Установка и запуск

1. **Клонируйте репозиторий**:

   ```bash
   git clone <репозиторий>
   cd rent_my_dream
   ```

2. **Создайте виртуальное окружение и установите зависимости**:

   ```bash
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

3. **Создайте и настройте файл `.env`**:

   В корневой директории создайте файл `.env` с параметрами подключения к базе данных и секретным ключом.

   ```
   SECRET_KEY=<ваш секретный ключ>
   DATABASE_NAME=<имя базы данных>
   DATABASE_USER=<пользователь базы данных>
   DATABASE_PASSWORD=<пароль базы данных>
   DATABASE_HOST=db
   DATABASE_PORT=3306
   ```

4. **Примените миграции и создайте суперпользователя**:

   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```

5. **Запустите сервер разработки**:

   ```bash
   python manage.py runserver
   ```

6. **Запуск с помощью Docker**:

   Убедитесь, что Docker установлен и запущен, затем выполните:

   ```bash
   docker-compose up --build
   ```

7. **Тестирование**:

   Запустите тесты, чтобы убедиться, что все работает корректно.

   ```bash
   pytest listing/tests/test_api.py
   ```

## API документация

API документация доступна по следующим ссылкам после запуска сервера:

- Swagger UI: [http://localhost:8000/api/swagger/](http://localhost:8000/api/swagger/)
- Redoc: [http://localhost:8000/api/redoc/](http://localhost:8000/api/redoc/)

## Основные эндпоинты

- **Авторизация и аутентификация**:
  - `POST /api/token/` — Получение JWT токена.
  - `POST /api/token/refresh/` — Обновление JWT токена.
  - `POST /api/token/verify/` — Верификация токена.

- **Управление объектами аренды**:
  - `GET /api/properties/` — Список объектов.
  - `POST /api/properties/` — Создание нового объекта.
  - `GET /api/properties/<id>/` — Просмотр информации об объекте.
  - `PUT /api/properties/<id>/` — Обновление объекта.
  - `DELETE /api/properties/<id>/` — Удаление объекта.

- **Бронирование**:
  - `GET /api/bookings/` — Список бронирований.
  - `POST /api/bookings/` — Создание бронирования.
  - `GET /api/bookings/<id>/` — Просмотр деталей бронирования.

- **Отзывы**:
  - `POST /api/reviews/` — Добавление отзыва.
  - `GET /api/reviews/` — Просмотр всех отзывов.

- **История**:
  - `GET /api/search-history/` — История поиска пользователя.
  - `GET /api/view-history/` — История просмотров объектов аренды.

## Дополнительная информация

- Проект находится на стадии разработки и регулярно обновляется.
- Для развёртывания на сервере рекомендуется использовать PostgresSQL и Gunicorn/Nginx.

## Авторство и лицензия

Проект разработан в образовательных целях. Права на код принадлежит автору.

--- 
